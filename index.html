<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VuelosBaratos NYC | Alertas Personalizadas de Vuelos Baratos desde Nueva York</title>
    <meta name="description" content="Busca y recibe alertas de vuelos baratos desde NYC a cualquier destino mundial. Configura tu precio objetivo y aeropuerto preferido. Servicio gratuito 24/7 para la comunidad hispana de Nueva York.">
    <meta name="keywords" content="vuelos baratos NYC, alertas vuelos Nueva York, buscar vuelos, precios vuelos, JFK LaGuardia Newark, vuelos hispanos NYC">
    <meta name="author" content="VuelosBaratos NYC">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="VuelosBaratos NYC - Busca y Alerta Vuelos Baratos">
    <meta property="og:description" content="Configura alertas personalizadas para cualquier destino desde NYC. Ahorra hasta $500 por vuelo.">
    <meta property="og:image" content="https://vuelosbaratosnyc.netlify.app/images/vuelosbaratos-logo.png">
    <meta property="og:url" content="https://vuelosbaratosnyc.netlify.app">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-H2K5D1KMZX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-H2K5D1KMZX');
    </script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; line-height: 1.6; color: #1f2937; background: #fafafa; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
            color: white;
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(37, 99, 235, 0.3);
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        .logo-area {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .logo-img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
        }
        .brand-name { font-size: 24px; font-weight: 900; }
        .nav-links { display: flex; list-style: none; gap: 30px; }
        .nav-links a { color: white; text-decoration: none; font-weight: 600; padding: 8px 16px; border-radius: 20px; transition: all 0.3s; }
        .nav-links a:hover { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        
        /* Hero */
        .hero {
            background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 50%, #3730a3 100%);
            color: white;
            padding: 80px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.03) 4px);
            z-index: 1;
        }
        .hero > * { position: relative; z-index: 2; }
        .hero-title { font-size: 3rem; font-weight: 900; margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); }
        .accent { color: #fbbf24; font-weight: 900; }
        .hero-subtitle { font-size: 1.2rem; margin-bottom: 40px; opacity: 0.95; }
        .hero-cta { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; margin-top: 30px; }
        .btn-primary { 
            background: linear-gradient(135deg, #f59e0b, #d97706); 
            color: white; 
            padding: 15px 30px; 
            border-radius: 50px; 
            text-decoration: none; 
            font-weight: 700; 
            transition: all 0.3s; 
            display: inline-flex;
            align-items: center;
            gap: 8px;
            border: none;
            cursor: pointer;
        }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(245, 158, 11, 0.4); }
        .btn-secondary { 
            background: rgba(255, 255, 255, 0.1); 
            color: white; 
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }
        .btn-secondary:hover { background: rgba(255, 255, 255, 0.2); }
        
        /* Advanced Search Form */
        .search-section {
            padding: 80px 0;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }
        .search-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 25px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(37, 99, 235, 0.1);
        }
        .search-title {
            font-size: 2.5rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 15px;
            color: #1f2937;
        }
        .search-subtitle {
            text-align: center;
            color: #6b7280;
            margin-bottom: 40px;
            font-size: 1.1rem;
        }
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        .form-group {
            display: flex;
            flex-direction: column;
        }
        .form-label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #374151;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .form-input, .form-select {
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s;
            background: white;
        }
        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        .price-slider-container {
            grid-column: 1 / -1;
        }
        .price-range {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #e5e7eb;
            outline: none;
            margin: 10px 0;
        }
        .price-range::-webkit-slider-thumb {
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #2563eb;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(37, 99, 235, 0.3);
        }
        .price-display {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: #2563eb;
            margin-top: 10px;
        }
        .search-btn {
            width: 100%;
            background: linear-gradient(135deg, #1e3a8a, #2563eb);
            color: white;
            padding: 18px 30px;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }
        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(30, 58, 138, 0.3);
        }
        .search-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Loading and Status Messages */
        .loading-spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid #ffffff;
            border-top: 2px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Search Results */
        .search-results {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #eff6ff, #dbeafe);
            border-radius: 15px;
            border-left: 4px solid #2563eb;
            display: none;
        }
        .search-results.show { display: block; }
        .search-results.error {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border-left-color: #ef4444;
        }
        .results-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #1e3a8a;
            margin-bottom: 15px;
        }
        .results-title.error { color: #dc2626; }
        .results-content {
            color: #374151;
            line-height: 1.6;
        }
        
        /* Destinations */
        .destinations { padding: 80px 0; background: white; }
        .section-title { font-size: 2.5rem; font-weight: 900; text-align: center; margin-bottom: 15px; color: #1f2937; }
        .section-desc { font-size: 1.1rem; color: #6b7280; text-align: center; margin-bottom: 50px; }
        .destinations-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; }
        .dest-card { 
            background: white; 
            border-radius: 20px; 
            overflow: hidden; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
            transition: all 0.3s; 
            cursor: pointer; 
            border: 1px solid rgba(229, 231, 235, 0.8);
        }
        .dest-card:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(37, 99, 235, 0.15); }
        .dest-image { 
            height: 200px; 
            background-size: cover; 
            background-position: center; 
            position: relative; 
        }
        .price-tag { 
            position: absolute; 
            top: 15px; 
            right: 15px; 
            background: #10b981; 
            color: white; 
            padding: 8px 16px; 
            border-radius: 25px; 
            font-size: 14px; 
            font-weight: bold; 
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }
        .dest-info { padding: 25px; }
        .dest-name { font-size: 1.4rem; font-weight: 800; margin-bottom: 8px; color: #1f2937; }
        .dest-cities { color: #6b7280; margin-bottom: 15px; font-size: 0.95rem; }
        .dest-stats { display: flex; gap: 20px; font-size: 14px; color: #6b7280; }
        .dest-stat { display: flex; align-items: center; gap: 5px; }
        
        /* Features */
        .features { padding: 80px 0; background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-top: 50px; }
        .feature-box { 
            text-align: center; 
            padding: 40px 30px; 
            background: white; 
            border-radius: 20px; 
            transition: all 0.3s; 
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(229, 231, 235, 0.8);
        }
        .feature-box:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(37, 99, 235, 0.15); }
        .feature-emoji { font-size: 3rem; margin-bottom: 20px; display: block; }
        .feature-title { font-size: 1.3rem; font-weight: 800; margin-bottom: 15px; color: #1f2937; }
        .feature-desc { color: #6b7280; line-height: 1.6; }
        
        /* Newsletter */
        .newsletter { 
            padding: 80px 0; 
            background: linear-gradient(135deg, #1e3a8a, #2563eb); 
            color: white; 
            text-align: center; 
        }
        .newsletter-title { font-size: 2.5rem; font-weight: 900; margin-bottom: 15px; }
        .newsletter-desc { font-size: 1.1rem; margin-bottom: 40px; opacity: 0.9; }
        .newsletter-form { 
            display: flex; 
            gap: 15px; 
            max-width: 500px; 
            margin: 0 auto; 
            flex-wrap: wrap; 
        }
        .newsletter-input { 
            flex: 1; 
            min-width: 250px; 
            padding: 15px 20px; 
            border-radius: 50px; 
            border: none; 
            font-size: 16px; 
        }
        
        /* WhatsApp Button */
        .whatsapp { 
            position: fixed; 
            bottom: 30px; 
            right: 30px; 
            width: 60px; 
            height: 60px; 
            background: #25d366; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            color: white; 
            font-size: 1.5rem; 
            cursor: pointer; 
            z-index: 1000; 
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4); 
            animation: pulse 2s infinite; 
        }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero-title { font-size: 2rem; }
            .nav-links { display: none; }
            .newsletter-form { flex-direction: column; }
            .newsletter-input { min-width: 100%; }
            .hero-cta { flex-direction: column; align-items: center; }
            .search-container { margin: 0 20px; padding: 30px 20px; }
            .form-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-area">
                    <img src="images/vuelosbaratos-logo.png" alt="VuelosBaratos NYC Logo" class="logo-img">
                    <div class="brand-name">VuelosBaratos NYC</div>
                </div>
                <nav>
                    <ul class="nav-links">
                        <li><a href="#inicio">Inicio</a></li>
                        <li><a href="#buscar">Buscar Vuelos</a></li>
                        <li><a href="#destinos">Destinos</a></li>
                        <li><a href="#como-funciona">Cómo Funciona</a></li>
                        <li><a href="#suscribirse">Alertas</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="inicio">
        <div class="container">
            <h1 class="hero-title">
                Nunca Más Pagues Precio Completo por <span class="accent">Tus Vuelos</span>
            </h1>
            <p class="hero-subtitle">
                Configura alertas personalizadas para <strong>cualquier destino mundial</strong> desde NYC. 
                Elige tu aeropuerto, fechas y precio objetivo. Nuestra IA monitorea más de 100 aerolíneas 24/7.
            </p>
            
            <div class="hero-cta">
                <a href="#buscar" class="btn-primary">
                    <i class="fas fa-search"></i> Buscar Mi Destino
                </a>
                <a href="#destinos" class="btn-primary btn-secondary">
                    <i class="fas fa-globe"></i> Ver Destinos Populares
                </a>
            </div>
        </div>
    </section>

    <!-- Advanced Search Section -->
    <section class="search-section" id="buscar">
        <div class="container">
            <div class="search-container">
                <h2 class="search-title">🔍 Busca Tu Destino Ideal</h2>
                <p class="search-subtitle">
                    Configura alertas personalizadas para cualquier destino mundial desde Nueva York
                </p>
                
                <form class="search-form" id="customSearchForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-map-marker-alt"></i> ¿A dónde quieres viajar?
                            </label>
                            <input 
                                type="text" 
                                class="form-input" 
                                id="destination" 
                                name="destination"
                                placeholder="Ej: Madrid, España"
                                list="destinations-list"
                                required
                            >
                            <datalist id="destinations-list">
                                <option value="Madrid, España">
                                <option value="Barcelona, España">
                                <option value="Buenos Aires, Argentina">
                                <option value="Lima, Perú">
                                <option value="Quito, Ecuador">
                                <option value="São Paulo, Brasil">
                                <option value="Santiago, Chile">
                                <option value="Caracas, Venezuela">
                                <option value="Guatemala City, Guatemala">
                                <option value="San José, Costa Rica">
                                <option value="Panama City, Panamá">
                                <option value="La Habana, Cuba">
                                <option value="San Juan, Puerto Rico">
                                <option value="Roma, Italia">
                                <option value="Milán, Italia">
                                <option value="Atenas, Grecia">
                                <option value="Estambul, Turquía">
                                <option value="Dubai, EAU">
                                <option value="Mumbai, India">
                                <option value="Delhi, India">
                                <option value="Bangkok, Tailandia">
                                <option value="Singapur">
                                <option value="Seúl, Corea del Sur">
                                <option value="Manila, Filipinas">
                                <option value="Jakarta, Indonesia">
                                <option value="Sydney, Australia">
                                <option value="Melbourne, Australia">
                                <option value="Auckland, Nueva Zelanda">
                                <option value="El Cairo, Egipto">
                                <option value="Casablanca, Marruecos">
                                <option value="Lagos, Nigeria">
                                <option value="Ciudad del Cabo, Sudáfrica">
                            </datalist>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-plane-departure"></i> Aeropuerto de salida
                            </label>
                            <select class="form-select" id="departure" name="departure" required>
                                <option value="">Selecciona aeropuerto</option>
                                <option value="JFK">JFK - John F. Kennedy</option>
                                <option value="LGA">LGA - LaGuardia</option>
                                <option value="EWR">EWR - Newark</option>
                                <option value="ALL">Cualquier aeropuerto NYC</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-calendar"></i> Fecha de salida (flexible)
                            </label>
                            <select class="form-select" id="timeframe" name="timeframe" required>
                                <option value="">Selecciona período</option>
                                <option value="1month">Próximo mes</option>
                                <option value="3months">Próximos 3 meses</option>
                                <option value="6months">Próximos 6 meses</option>
                                <option value="1year">Próximo año</option>
                                <option value="flexible">Fechas flexibles</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-users"></i> Clase de vuelo
                            </label>
                            <select class="form-select" id="class" name="class" required>
                                <option value="economy">Económica</option>
                                <option value="premium">Premium Economy</option>
                                <option value="business">Business</option>
                                <option value="first">Primera Clase</option>
                            </select>
                        </div>
                        
                        <div class="form-group price-slider-container">
                            <label class="form-label">
                                <i class="fas fa-dollar-sign"></i> Precio objetivo máximo
                            </label>
                            <input 
                                type="range" 
                                class="price-range" 
                                id="priceRange" 
                                name="priceRange"
                                min="200" 
                                max="3000" 
                                value="800" 
                                oninput="updatePriceDisplay()"
                            >
                            <div class="price-display" id="priceDisplay">$800 USD</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-envelope"></i> Tu email para alertas
                            </label>
                            <input 
                                type="email" 
                                class="form-input" 
                                id="email" 
                                name="email"
                                placeholder="tu@email.com"
                                required
                            >
                        </div>
                    </div>
                    
                    <button type="submit" class="search-btn" id="searchBtn">
                        <span class="loading-spinner" id="searchSpinner"></span>
                        <i class="fas fa-bell" id="searchIcon"></i> 
                        <span id="searchBtnText">Crear Mi Alerta Personalizada</span>
                    </button>
                </form>
                
                <div class="search-results" id="searchResults">
                    <div class="results-title" id="resultsTitle">¡Alerta Configurada Exitosamente! 🎉</div>
                    <div class="results-content" id="resultsContent"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Popular Destinations Section -->
    <section class="destinations" id="destinos">
        <div class="container">
            <h2 class="section-title">Destinos Populares desde NYC</h2>
            <p class="section-desc">Haz clic en cualquier destino para configurar una alerta rápida</p>
            
            <div class="destinations-grid">
                <div class="dest-card" onclick="quickAlert('República Dominicana', 'Santo Domingo', 299)">
                    <div class="dest-image" style="background-image: url('https://www.traveloffpath.com/wp-content/uploads/2023/03/Columbus-statue-and-Basilica-Cathedral-of-Santa-Maria-la-Menor-in-Santo-Domingo-Colonial-zone.jpg');">
                        <div class="price-tag">desde $299</div>
                    </div>
                    <div class="dest-info">
                        <h3 class="dest-name">🇩🇴 República Dominicana</h3>
                        <p class="dest-cities">Santo Domingo, Punta Cana, Santiago</p>
                        <div class="dest-stats">
                            <div class="dest-stat">✈️ 3.5h vuelo</div>
                            <div class="dest-stat">🏖️ Playas caribeñas</div>
                        </div>
                    </div>
                </div>

                <div class="dest-card" onclick="quickAlert('Colombia', 'Bogotá', 399)">
                    <div class="dest-image" style="background-image: url('https://c8.alamy.com/comp/2A5WHN2/skyline-downtown-bogota-colombia-2A5WHN2.jpg');">
                        <div class="price-tag">desde $399</div>
                    </div>
                    <div class="dest-info">
                        <h3 class="dest-name">🇨🇴 Colombia</h3>
                        <p class="dest-cities">Bogotá, Medellín, Cartagena</p>
                        <div class="dest-stats">
                            <div class="dest-stat">✈️ 5.5h vuelo</div>
                            <div class="dest-stat">🏔️ Diversidad cultural</div>
                        </div>
                    </div>
                </div>

                <div class="dest-card" onclick="quickAlert('México', 'Ciudad de México', 349)">
                    <div class="dest-image" style="background-image: url('https://www.storiesbysoumya.com/wp-content/uploads/2021/07/mexico-city-center-cathedral.jpg');">
                        <div class="price-tag">desde $349</div>
                    </div>
                    <div class="dest-info">
                        <h3 class="dest-name">🇲🇽 México</h3>
                        <p class="dest-cities">Ciudad de México, Cancún, Guadalajara</p>
                        <div class="dest-stats">
                            <div class="dest-stat">✈️ 6h vuelo</div>
                            <div class="dest-stat">🌮 Rica cultura</div>
                        </div>
                    </div>
                </div>

                <div class="dest-card" onclick="quickAlert('París', 'París', 599)">
                    <div class="dest-image" style="background-image: url('https://www.shutterstock.com/shutterstock/photos/2167553935/display_1500/stock-photo-paris-france-city-skyline-at-eiffel-tower-and-seine-river-jena-bridge-2167553935.jpg');">
                        <div class="price-tag">desde $599</div>
                    </div>
                    <div class="dest-info">
                        <h3 class="dest-name">🇫🇷 París</h3>
                        <p class="dest-cities">Ciudad de la Luz, Francia</p>
                        <div class="dest-stats">
                            <div class="dest-stat">✈️ 7h vuelo</div>
                            <div class="dest-stat">🗼 Arte y cultura</div>
                        </div>
                    </div>
                </div>

                <div class="dest-card" onclick="quickAlert('Londres', 'Londres', 549)">
                    <div class="dest-image" style="background-image: url('https://thumbs.dreamstime.com/b/london-skyline-landscape-big-ben-palace-westminster-london-eye-westminster-bridge-river-thames-london-england-uk-95140016.jpg');">
                        <div class="price-tag">desde $549</div>
                    </div>
                    <div class="dest-info">
                        <h3 class="dest-name">🇬🇧 Londres</h3>
                        <p class="dest-cities">Reino Unido</p>
                        <div class="dest-stats">
                            <div class="dest-stat">✈️ 6.5h vuelo</div>
                            <div class="dest-stat">👑 Historia real</div>
                        </div>
                    </div>
                </div>

                <div class="dest-card" onclick="quickAlert('Tokio', 'Tokio', 899)">
                    <div class="dest-image" style="background-image: url('https://warmcheaptrips.com/wp-content/uploads/2024/11/Tokyo-Skyline.jpg');">
                        <div class="price-tag">desde $899</div>
                    </div>
                    <div class="dest-info">
                        <h3 class="dest-name">🇯🇵 Tokio</h3>
                        <p class="dest-cities">Japón</p>
                        <div class="dest-stats">
                            <div class="dest-stat">✈️ 14h vuelo</div>
                            <div class="dest-stat">🏯 Tradición y tech</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="como-funciona">
        <div class="container">
            <h2 class="section-title">¿Cómo Funciona Nuestro Sistema?</h2>
            <p class="section-desc">Tecnología avanzada para encontrarte los mejores precios</p>
            
            <div class="features-grid">
                <div class="feature-box">
                    <span class="feature-emoji">🔍</span>
                    <h3 class="feature-title">Búsqueda Inteligente</h3>
                    <p class="feature-desc">Configura alertas para cualquier destino mundial con criterios específicos: aeropuerto, fechas, clase y precio objetivo.</p>
                </div>
                
                <div class="feature-box">
                    <span class="feature-emoji">🤖</span>
                    <h3 class="feature-title">Monitoreo IA 24/7</h3>
                    <p class="feature-desc">Nuestra inteligencia artificial revisa precios cada 30 minutos en más de 100 aerolíneas incluidas American, Delta, LATAM y Avianca.</p>
                </div>
                
                <div class="feature-box">
                    <span class="feature-emoji">⚡</span>
                    <h3 class="feature-title">Alertas Instantáneas</h3>
                    <p class="feature-desc">Recibe notificaciones inmediatas por email y WhatsApp cuando encontremos vuelos por debajo de tu precio objetivo.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter" id="suscribirse">
        <div class="container">
            <h2 class="newsletter-title">¡Únete a 50,000+ Viajeros Inteligentes!</h2>
            <p class="newsletter-desc">
                Recibe ofertas exclusivas y tips de viaje directamente en tu inbox
            </p>
            
            <form class="newsletter-form" id="generalNewsletterForm">
                <input type="email" class="newsletter-input" name="email" placeholder="Tu email aquí..." required>
                <button type="submit" class="btn-primary">
                    <span class="loading-spinner" id="newsletterSpinner"></span>
                    <i class="fas fa-paper-plane" id="newsletterIcon"></i> 
                    <span id="newsletterBtnText">Suscribirse Gratis</span>
                </button>
            </form>
            
            <p style="margin-top: 20px; opacity: 0.8; font-size: 14px;">
                ✅ 100% Gratis • ✅ Sin Spam • ✅ Cancela cuando quieras • ✅ Ofertas exclusivas semanales
            </p>
        </div>
    </section>

    <!-- WhatsApp Button -->
    <div class="whatsapp" onclick="openWhatsApp()">
        💬
    </div>

    <!-- JavaScript -->
    <script>
        // Update price display
        function updatePriceDisplay() {
            const price = document.getElementById('priceRange').value;
            document.getElementById('priceDisplay').textContent = `$${price} USD`;
        }

        // Handle advanced search form with Klaviyo integration
        document.getElementById('customSearchForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            
            const btn = document.getElementById('searchBtn');
            const spinner = document.getElementById('searchSpinner');
            const icon = document.getElementById('searchIcon');
            const btnText = document.getElementById('searchBtnText');
            const resultsDiv = document.getElementById('searchResults');
            const resultsTitle = document.getElementById('resultsTitle');
            const resultsContent = document.getElementById('resultsContent');
            
            // Show loading state
            btn.disabled = true;
            spinner.style.display = 'inline-block';
            icon.style.display = 'none';
            btnText.textContent = 'Configurando tu alerta...';
            
            // Hide previous results
            resultsDiv.classList.remove('show', 'error');
            
            try {
                const formData = new FormData(this);
                const searchData = {
                    email: formData.get('email'),
                    destination: formData.get('destination'),
                    departure_airport: formData.get('departure'),
                    timeframe: formData.get('timeframe'),
                    travel_class: formData.get('class'),
                    target_price: formData.get('priceRange'),
                    alert_type: 'custom_search',
                    signup_source: 'website_advanced_search',
                    language: 'es',
                    location: 'NYC'
                };
                
                const response = await fetch('/.netlify/functions/custom-alert', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(searchData)
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    // Success
                    const departureName = {
                        'JFK': 'JFK (John F. Kennedy)',
                        'LGA': 'LaGuardia (LGA)', 
                        'EWR': 'Newark (EWR)',
                        'ALL': 'Cualquier aeropuerto NYC'
                    }[searchData.departure_airport];
                    
                    const timeframeName = {
                        '1month': 'próximo mes',
                        '3months': 'próximos 3 meses',
                        '6months': 'próximos 6 meses', 
                        '1year': 'próximo año',
                        'flexible': 'fechas flexibles'
                    }[searchData.timeframe];
                    
                    const className = {
                        'economy': 'Económica',
                        'premium': 'Premium Economy',
                        'business': 'Business',
                        'first': 'Primera Clase'
                    }[searchData.travel_class];
                    
                    resultsTitle.textContent = '¡Alerta Configurada Exitosamente! 🎉';
                    resultsTitle.classList.remove('error');
                    resultsContent.innerHTML = `
                        <strong>Tu alerta personalizada está activa:</strong><br>
                        📍 <strong>Destino:</strong> ${searchData.destination}<br>
                        ✈️ <strong>Desde:</strong> ${departureName}<br>
                        📅 <strong>Período:</strong> ${timeframeName}<br>
                        💺 <strong>Clase:</strong> ${className}<br>
                        💰 <strong>Precio máximo:</strong> $${searchData.target_price} USD<br>
                        📧 <strong>Email:</strong> ${searchData.email}<br><br>
                        
                        <strong>🚀 ¡Ya estás en nuestro sistema!</strong><br>
                        • Te enviaremos alertas cuando encontremos vuelos por debajo de $${searchData.target_price}<br>
                        • Recibirás un email de bienvenida en los próximos minutos<br>
                        • Nuestro sistema revisa precios cada 30 minutos, 24/7<br>
                        • Típicamente encontramos ofertas <strong>30-50% más baratas</strong><br><br>
                        
                        📱 <strong>Tip:</strong> Añade nuestro WhatsApp para recibir alertas urgentes de ofertas que expiran rápido.
                    `;
                    
                    // Clear form
                    this.reset();
                    updatePriceDisplay();
                    
                    // Analytics
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'custom_search_success', {
                            'event_category': 'conversion',
                            'event_label': `${searchData.destination} from ${searchData.departure_airport}`,
                            'value': parseFloat(searchData.target_price)
                        });
                    }
                } else {
                    throw new Error(result.error || 'Error al configurar la alerta');
                }
            } catch (error) {
                console.error('Custom search error:', error);
                resultsTitle.textContent = 'Error al Configurar la Alerta 😞';
                resultsTitle.classList.add('error');
                resultsContent.innerHTML = `
                    <strong>Hubo un problema técnico.</strong><br>
                    No te preocupes, puedes intentar nuevamente o contactarnos por WhatsApp para configurar tu alerta manualmente.<br><br>
                    <strong>Mientras tanto:</strong><br>
                    • Suscríbete a nuestro newsletter general abajo<br>
                    • Contacta por WhatsApp para ayuda personalizada<br>
                    • Intenta nuevamente en unos minutos
                `;
                resultsDiv.classList.add('error');
            } finally {
                // Reset button state
                btn.disabled = false;
                spinner.style.display = 'none';
                icon.style.display = 'inline';
                btnText.textContent = 'Crear Mi Alerta Personalizada';
                
                // Show results
                resultsDiv.classList.add('show');
                resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        });

        // Quick alert for popular destinations with Klaviyo integration
        async function quickAlert(country, city, price) {
            const email = prompt(`🎯 Configura alerta rápida para ${country}\n\n💰 Precio típico: desde $${price}\n📧 Ingresa tu email para recibir alertas:`);
            
            if (email && email.includes('@')) {
                try {
                    const quickAlertData = {
                        email: email,
                        destination: `${city}, ${country}`,
                        departure_airport: 'ALL',
                        timeframe: 'flexible',
                        travel_class: 'economy',
                        target_price: price,
                        alert_type: 'quick_alert',
                        signup_source: 'website_destination_card',
                        language: 'es',
                        location: 'NYC'
                    };
                    
                    const response = await fetch('/.netlify/functions/quick-alert', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(quickAlertData)
                    });
                    
                    const result = await response.json();
                    
                    if (response.ok) {
                        alert(`✅ ¡Perfecto! Alerta configurada para ${country}\n\n📧 Email: ${email}\n💰 Te alertaremos cuando encontremos vuelos por debajo de $${price}\n\n🔔 Revisa tu bandeja de entrada para el email de bienvenida\n💡 Para alertas más específicas (fechas, aeropuerto, etc.) usa el formulario de búsqueda avanzada arriba.`);
                        
                        if (typeof gtag !== 'undefined') {
                            gtag('event', 'quick_alert_success', {
                                'event_category': 'conversion',
                                'event_label': country,
                                'value': price
                            });
                        }
                    } else {
                        throw new Error(result.error);
                    }
                } catch (error) {
                    console.error('Quick alert error:', error);
                    alert(`❌ Hubo un error al configurar la alerta.\n\nPor favor intenta:\n• Usar el formulario de búsqueda avanzada arriba\n• Contactar por WhatsApp para ayuda\n• Suscribirte al newsletter general`);
                }
            } else if (email) {
                alert("❌ Por favor ingresa un email válido");
            }
        }

        // General newsletter signup with Klaviyo integration
        document.getElementById('generalNewsletterForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            
            const btn = this.querySelector('button[type="submit"]');
            const spinner = document.getElementById('newsletterSpinner');
            const icon = document.getElementById('newsletterIcon');
            const btnText = document.getElementById('newsletterBtnText');
            const emailInput = this.querySelector('input[name="email"]');
            
            // Show loading state
            btn.disabled = true;
            spinner.style.display = 'inline-block';
            icon.style.display = 'none';
            btnText.textContent = 'Suscribiendo...';
            
            try {
                const newsletterData = {
                    email: emailInput.value,
                    alert_type: 'general_newsletter',
                    signup_source: 'website_newsletter_section',
                    language: 'es',
                    location: 'NYC'
                };
                
                const response = await fetch('/.netlify/functions/newsletter', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(newsletterData)
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    alert(`🎉 ¡Bienvenido a VuelosBaratos NYC!\n\nEmail: ${emailInput.value}\n\n✅ Recibirás ofertas semanales exclusivas\n✅ Tips de viaje en español\n✅ Acceso prioritario a ofertas flash\n✅ Guías de destinos gratuitas\n\n¡Revisa tu bandeja de entrada!`);
                    emailInput.value = '';
                    
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'newsletter_signup_success', {
                            'event_category': 'conversion',
                            'event_label': 'general'
                        });
                    }
                } else {
                    throw new Error(result.error);
                }
            } catch (error) {
                console.error('Newsletter signup error:', error);
                alert(`❌ Hubo un error al suscribirte.\n\nPor favor intenta nuevamente o contacta por WhatsApp.`);
            } finally {
                // Reset button state
                btn.disabled = false;
                spinner.style.display = 'none';
                icon.style.display = 'inline';
                btnText.textContent = 'Suscribirse Gratis';
            }
        });

        // WhatsApp contact
        function openWhatsApp() {
            window.open('https://wa.me/1234567890?text=¡Hola! Me interesa recibir alertas personalizadas de vuelos baratos desde NYC. ¿Pueden ayudarme a configurar mis preferencias?', '_blank');
        }

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Initialize price display
        updatePriceDisplay();
    </script>

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "VuelosBaratos NYC",
        "description": "Servicio de alertas personalizadas de vuelos baratos desde Nueva York a destinos mundiales con integración completa de Klaviyo",
        "url": "https://vuelosbaratosnyc.netlify.app",
        "applicationCategory": "Travel",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD",
            "description": "Servicio gratuito de alertas de vuelos personalizadas"
        },
        "featureList": [
            "Búsqueda de destinos globales con autocompletado",
            "Alertas de precio personalizadas integradas con Klaviyo", 
            "Monitoreo 24/7 de más de 100 aerolíneas",
            "Notificaciones instantáneas por email y WhatsApp",
            "Configuración de aeropuerto de salida preferido",
            "Selección de clase de vuelo y rango de precios",
            "Fechas flexibles con períodos personalizables",
            "Servicio en español para la comunidad hispana de NYC",
            "Segmentación automática de usuarios en Klaviyo",
            "Secuencias de email automatizadas"
        ]
    }
    </script>
</body>
</html>
